{% extends "base.html" %}
{% block content %}

<!--page description-->
<div class="text-block  container margins">
    <span> Page and purpose descriprion "Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat 
    nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui 
    officia deserunt mollit anim id est laborum."
    </span>
</div>

<!--sorting and -->
<div class="row margins">
    <div class="container">   
        <a href="{{ url_for('sorted') }}" class="waves-effect white-text brown darken-2 btn col s12 m5 l5">Sort by score</a>
        <div class="col s12 m2 l2"></div>
        {% if session.user %}
        <a href="{{ url_for('add_book') }}" class="waves-effect white-text brown darken-2 btn col s12 m5 l5">Add a book</a>
        {% endif %}
    </div>
</div>


<!-- books -->
<div class="row">
    {% for book in books %}
    <div class="card col s12 m6 l3 padded-grid">
        <div class="card-image waves-effect waves-block waves-light">
            <img class="activator cover" src="{{ book.cover }}">
        </div>
        <div class="centered-icons">
            <a href="{{ url_for('edit_book', book_id=book.id) }}"><i class="fa-solid fa-pen-to-square brown-text text-darken-4"></i></a>
            <a class="modal-trigger" href="#modaldeletebook"><i class="fa-solid fa-trash brown-text text-darken-4"></i></a>
            <div id="modaldeletebook" class="modal">
                <div class="modal-content">
                <h4>Are you sure you want to delete this book form the database?</h4>
                <p>The book will be deleted permanently.</p>
                </div>
                <div class="modal-footer">
                <a href="{{ url_for('delete_book', book_id=book.id) }}" class="modal-close waves-effect waves-green btn-flat">Delete book</a>
                <a href="#!" class="modal-close waves-effect waves-light btn-flat">Let me think about it</a>
                </div>
            </div>
        </div>
        <div class="card-content centered-elemet card-content-padding">
            <h5 class="brown-text text-darken-4"><a href="{{ url_for('book', book_id=book.id) }}">{{ book.title }}</a></h5>
            <span class="card-title brown-text text-darken-4">{{ book.author }}</span>
            
        </div>
        <div>
            <p class="centered-elemet">Genre: {{ book.genre }}</p>
            <p class="centered-elemet">Pozitive rieviews: {{ book.score }}</p>
        </div>
    </div>
    {% endfor %}
</div>
            
{% endblock %}