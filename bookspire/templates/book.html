{% extends "base.html" %}
{% block content %}

<h3>{{ book.title }}</h3>

<div class="grey lighten-2">
    <div class="row">
        <div class="col s12 m6 l4">
            <img class="cover" src="{{ book.cover }}">
        </div>
        <div class="col s12 m6 l2">
            <p>Author: {{ book.author }}</p>
            <p>Year of publication: {{ book.year_of_publication }}</p>
            <p>Score: {{ book.score }}</p>
        </div>
        <div class="col s12 m12 l6">
            <p>{{ book.synopsis }}</p>
        </div>
    </div>
</div>
<hr>
<div class="container center-align">
    <a href="{{ url_for('add_review', book_id=book.id) }}" class="waves-effect waves-light brown darken-4 white-text btn">Add review<i class="fa-sharp fa-solid fa-comment-plus"></i></a>
</div>
<hr>
<!-- rewiews -->
{% for review in reviews %}
    {% if review.book_title == book.title %}
    <div class="grey lighten-2">
        <div class="row">
            <div class="col s10">
                <p>{{ review.title }}</p>
            </div>
            <div class="col s1">
                <p><i class="fa-solid fa-pen-to-square brown-text text-darken-4"></i></p>
            </div>
            <div class="col s1">
                <p><i class="fa-solid fa-trash brown-text text-darken-4"></i></p>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <p>{{ review.review_text }}</p>
            </div>
        </div>
        <div class="row">
            <div class="col right-align s12">
                <p>Score: </p>
                    {% if review.review_score == 1 %}
                        <img class="star-image" src="{{ url_for('static', filename='img/one-star.png') }}" alt="one">
                    {% elif review.review_score == 2 %}
                        <img class="star-image" src="{{ url_for('static', filename='img/two-stars.png') }}" alt="two stars">
                    {% elif review.review_score == 3 %}
                        <img class="star-image" src="{{ url_for('static', filename='img/three-stars.png') }}" alt="three stars">
                    {% elif review.review_score == 4 %}
                        <img class="star-image" src="{{ url_for('static', filename='img/four-stars.png') }}" alt="four stars">
                    {% elif review.review_score == 5 %}
                        <img class="star-image" src="{{ url_for('static', filename='img/five-stars.png') }}" alt="five stars">
                    {% else %}
                        <img class="star-image" src="{{ url_for('static', filename='img/zero-stars.png') }}" alt="zero stars">
                    {% endif %}
            </div>        
        </div>
    </div>
    {% endif %}
{% endfor %}

{% endblock %}